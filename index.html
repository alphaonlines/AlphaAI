<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI for Beginners | Easy Guide to Artificial Intelligence</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header>
    <div class="nav">
      <div class="brand"><span class="dot"></span>AI for Beginners</div>
      <div class="nav-links">
        <a href="index.html">What is AI?</a>
        <a href="getting-started.html">Get Started</a>
        <a href="daily-life.html">AI in Daily Life</a>
      </div>
    </div>
  </header>

  <!-- Theme Transition Overlay -->
  <div class="theme-transition-overlay" id="themeOverlay"></div>

  <!-- Reading Progress Bar -->
  <div class="reading-progress" id="readingProgress"></div>

  <!-- Premium Accessibility Controls -->
  <div class="accessibility-controls">
    <button class="font-control" onclick="toggleFontSize()" aria-label="Change text size" data-tooltip="Text Size">A+</button>
    <button class="font-control" onclick="toggleContrast()" aria-label="Toggle high contrast" data-tooltip="High Contrast">‚óê</button>
    <button class="font-control theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme" data-tooltip="Theme">üåô</button>
  </div>

  <main class="container">
    <section class="hero" id="top">
      <div class="pill">Beginner friendly</div>
      <div class="meta-row">
        <h1>What is Artificial Intelligence?</h1>
        <span class="badge">Easy to understand</span>
      </div>
      <p>Artificial Intelligence (AI) is like teaching computers to think and learn like humans. It's already helping you every day, even if you don't realize it.</p>
      <div class="cta-row">
        <a class="button primary" href="getting-started.html">Try AI Today</a>
        <a class="button secondary" href="daily-life.html">See AI in Daily Life</a>
        <button class="button ghost" id="openCatchUp" aria-haspopup="dialog">Catch up fast</button>
      </div>
      <p class="muted small-text">Made for beginners ‚Ä¢ No technical experience needed</p>
    </section>

    <section class="catchup-modal" id="catchUpModal" role="dialog" aria-modal="true" aria-labelledby="catchUpTitle" hidden tabindex="-1">
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <p class="pill">2-minute setup</p>
            <h2 id="catchUpTitle">Find the best starting point</h2>
            <p class="muted">Answer a few quick questions. We'll jump you to the right era.</p>
          </div>
          <button class="close-modal" id="closeCatchUp" aria-label="Close questionnaire">√ó</button>
        </div>
        <form id="catchUpForm">
          <div class="grid two">
            <label class="prompt-card">
              <span>How comfortable are you with computers?</span>
              <div class="option-row">
                <input type="radio" name="comfort" value="low" required>
                <span>Not at all</span>
              </div>
              <div class="option-row">
                <input type="radio" name="comfort" value="medium">
                <span>Some experience</span>
              </div>
              <div class="option-row">
                <input type="radio" name="comfort" value="high">
                <span>Confident</span>
              </div>
            </label>
            <label class="prompt-card">
              <span>Which topics interest you?</span>
              <div class="option-row">
                <input type="checkbox" name="topics" value="ai" checked>
                <span>AI and chat tools</span>
              </div>
              <div class="option-row">
                <input type="checkbox" name="topics" value="robotics">
                <span>Robots and automation</span>
              </div>
              <div class="option-row">
                <input type="checkbox" name="topics" value="energy">
                <span>Batteries and energy</span>
              </div>
            </label>
          </div>
          <div class="grid two">
            <label class="prompt-card">
              <span>Do you know what "the cloud" means?</span>
              <div class="option-row">
                <input type="radio" name="cloud" value="yes" required>
                <span>Yes</span>
              </div>
              <div class="option-row">
                <input type="radio" name="cloud" value="kinda">
                <span>Kinda</span>
              </div>
              <div class="option-row">
                <input type="radio" name="cloud" value="no">
                <span>No</span>
              </div>
            </label>
            <label class="prompt-card">
              <span>How deep do you want to go?</span>
              <div class="option-row">
                <input type="radio" name="depth" value="quick" required>
                <span>Just the highlights</span>
              </div>
              <div class="option-row">
                <input type="radio" name="depth" value="story">
                <span>Give me the story</span>
              </div>
            </label>
          </div>
          <div class="modal-actions">
            <button type="submit" class="button primary">Show my starting era</button>
            <button type="button" class="button ghost" id="closeCatchUpFooter">Cancel</button>
          </div>
          <p class="muted small-text">We keep your answers in this browser only. You can change them anytime.</p>
        </form>
      </div>
    </section>

    <section id="timeline" aria-label="AI and tech timeline">
      <div class="timeline-header">
        <div>
          <p class="pill">Story mode</p>
          <h2>Tech Time Machine</h2>
          <p class="muted">Start from today, then scroll back through the big moments. The sticky image updates as you move.</p>
        </div>
        <div class="timeline-controls">
          <label for="startEra" class="muted">Jump to an era</label>
          <select id="startEra" aria-label="Jump to era">
            <option value="present">Present day</option>
            <option value="2025">2025 ‚Äì New batteries</option>
            <option value="2024">2024 ‚Äì Robots get agile</option>
            <option value="2017">2017 ‚Üí now</option>
            <option value="2012">2012 ‚Äì Deep learning</option>
            <option value="1997">1997 ‚Äì Chess milestone</option>
            <option value="1966">1966 ‚Äì First chatbots</option>
            <option value="1956">1956 ‚Äì AI gets its name</option>
            <option value="1950">1950 ‚Äì Can machines think?</option>
          </select>
          <div class="filter-row" role="group" aria-label="Filter timeline by topic">
            <button class="chip active" data-filter="all">All</button>
            <button class="chip" data-filter="ai">AI</button>
            <button class="chip" data-filter="robotics">Robotics</button>
            <button class="chip" data-filter="energy">Batteries</button>
          </div>
          <div class="path-buttons" role="group" aria-label="Choose your path">
            <button class="button secondary" data-path="ai">I'm curious about AI</button>
            <button class="button secondary" data-path="robotics">Show me robots</button>
            <button class="button secondary" data-path="energy">I want battery news</button>
            <button class="button ghost" data-path="mixed">Give me everything</button>
          </div>
        </div>
      </div>

      <div class="timeline-wrap">
        <div class="timeline-sticky" aria-live="polite">
          <div class="sticky-visual" id="stickyVisual" role="img" aria-label="Present day AI and tech moment">
            <div class="visual-icon">‚ú®</div>
            <p class="muted">Highlights update as you scroll.</p>
          </div>
          <div class="era-map">
            <p class="muted small-text">You are viewing</p>
            <ul id="eraMap">
              <li class="active">Present day</li>
              <li>2025</li>
              <li>2024</li>
              <li>2017 ‚Üí now</li>
              <li>2012</li>
              <li>1997</li>
              <li>1966</li>
              <li>1956</li>
              <li>1950</li>
            </ul>
          </div>
          <div class="prompt-copy">
            <p class="muted">Starter prompts</p>
            <button class="copy-button" data-prompt="Summarize the biggest AI change in the last 5 years in simple words.">Copy: AI in 5 years</button>
            <button class="copy-button" data-prompt="List one friendly robot example and why it helps people.">Copy: Robot example</button>
          </div>
        </div>

        <div class="timeline-cards">
          <article class="timeline-card" data-era="present" data-track="ai" data-visual="‚ú®" id="present-anchor">
            <div class="timeline-dot"></div>
            <div class="timeline-year">Today</div>
            <h3>Modern chat AI is everywhere</h3>
            <p>People now talk to AI in phones, laptops, and cars. Voice and chat help with daily tasks.</p>
            <p class="why">Why it matters: Easy tools make it simple for anyone to get answers and learn.</p>
            <div class="mini-quiz" data-answer="b">
              <p class="small-text">Mini quiz: AI is best at...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Reading your mind</button>
                <button type="button" data-choice="b">Spotting patterns in data</button>
                <button type="button" data-choice="c">Cooking dinner</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="2025" data-track="energy" data-visual="üîã" id="era-2025">
            <div class="timeline-dot"></div>
            <div class="timeline-year">2025</div>
            <h3>Sodium-ion batteries move toward shelves</h3>
            <p>New sodium-based packs promise safer, cheaper power. A company called CATL plans mass production.</p>
            <p class="why">Why it matters: Better batteries make phones, scooters, and home backups more reliable.</p>
            <div class="mini-quiz" data-answer="c">
              <p class="small-text">Mini quiz: Sodium-ion batteries can help because...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">They run on gasoline</button>
                <button type="button" data-choice="b">They replace the sun</button>
                <button type="button" data-choice="c">They use easier-to-find materials</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="2024" data-track="robotics" data-visual="ü§ñ" id="era-2024">
            <div class="timeline-dot"></div>
            <div class="timeline-year">2024</div>
            <h3>Electric humanoid robots step out</h3>
            <p>New electric robots, like Boston Dynamics' Atlas update, aim to work safely around people.</p>
            <p class="why">Why it matters: Quiet, battery-powered robots fit better in workplaces and homes.</p>
            <div class="mini-quiz" data-answer="a">
              <p class="small-text">Mini quiz: Electric robots are helpful because...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">They can run indoors without fumes</button>
                <button type="button" data-choice="b">They never need charging</button>
                <button type="button" data-choice="c">They only dance</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="2017" data-track="ai" data-visual="üï∏Ô∏è" id="era-2017">
            <div class="timeline-dot"></div>
            <div class="timeline-year">2017 ‚Üí now</div>
            <h3>Transformers change language tools</h3>
            <p>New AI models learned to focus on the right words. This made chatbots and translation feel natural.</p>
            <p class="why">Why it matters: Better language tools help people write, learn, and connect.</p>
            <div class="mini-quiz" data-answer="c">
              <p class="small-text">Mini quiz: "Attention" helps AI...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Grow robot arms</button>
                <button type="button" data-choice="b">Save battery power</button>
                <button type="button" data-choice="c">Focus on key words</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="2016" data-track="ai" data-visual="‚ö´" id="era-2016">
            <div class="timeline-dot"></div>
            <div class="timeline-year">2016</div>
            <h3>AlphaGo shocks the world</h3>
            <p>An AI named AlphaGo beat a Go world champion. It mixed practice games with clever planning.</p>
            <p class="why">Why it matters: AI can now learn complex choices, not just simple rules.</p>
            <div class="mini-quiz" data-answer="a">
              <p class="small-text">Mini quiz: AlphaGo learned by...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Playing millions of games</button>
                <button type="button" data-choice="b">Watching only one match</button>
                <button type="button" data-choice="c">Guessing at random</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="2012" data-track="ai" data-visual="üì∑" id="era-2012">
            <div class="timeline-dot"></div>
            <div class="timeline-year">2012</div>
            <h3>Deep learning breaks out</h3>
            <p>A system called AlexNet won an image contest by a wide margin. It learned from many photos.</p>
            <p class="why">Why it matters: This jump started modern AI for pictures, voice, and more.</p>
            <div class="mini-quiz" data-answer="b">
              <p class="small-text">Mini quiz: AlexNet was famous for...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Running on paper</button>
                <button type="button" data-choice="b">Seeing objects in photos</button>
                <button type="button" data-choice="c">Making phone calls</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="1997" data-track="ai" data-visual="‚ôüÔ∏è" id="era-1997">
            <div class="timeline-dot"></div>
            <div class="timeline-year">1997</div>
            <h3>Computers beat the chess champ</h3>
            <p>IBM's Deep Blue defeated Garry Kasparov. It mixed speed with careful search.</p>
            <p class="why">Why it matters: People saw that AI could master skilled games.</p>
            <div class="mini-quiz" data-answer="b">
              <p class="small-text">Mini quiz: Deep Blue's advantage was...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Human feelings</button>
                <button type="button" data-choice="b">Fast calculations</button>
                <button type="button" data-choice="c">Magic</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="1966" data-track="ai" data-visual="üí¨" id="era-1966">
            <div class="timeline-dot"></div>
            <div class="timeline-year">1966</div>
            <h3>ELIZA starts chatbot history</h3>
            <p>A simple program named ELIZA mirrored people's words. It showed that talking to a computer felt new.</p>
            <p class="why">Why it matters: It was the first taste of computer conversation.</p>
            <div class="mini-quiz" data-answer="a">
              <p class="small-text">Mini quiz: ELIZA mainly...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Repeated and reflected text</button>
                <button type="button" data-choice="b">Understood feelings deeply</button>
                <button type="button" data-choice="c">Sent voice messages</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="1956" data-track="ai" data-visual="üéì" id="era-1956">
            <div class="timeline-dot"></div>
            <div class="timeline-year">1956</div>
            <h3>Dartmouth coins the term "AI"</h3>
            <p>Researchers met at Dartmouth College and named the field Artificial Intelligence.</p>
            <p class="why">Why it matters: It kicked off organized research into smart machines.</p>
            <div class="mini-quiz" data-answer="c">
              <p class="small-text">Mini quiz: Dartmouth was key because...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Robots were sold there</button>
                <button type="button" data-choice="b">It was a music festival</button>
                <button type="button" data-choice="c">The field got its name</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>

          <article class="timeline-card" data-era="1950" data-track="ai" data-visual="üìù" id="era-1950">
            <div class="timeline-dot"></div>
            <div class="timeline-year">1950</div>
            <h3>Turing asks "Can machines think?"</h3>
            <p>Alan Turing described a playful test where people guess if they talk to a human or a machine.</p>
            <p class="why">Why it matters: It set the big question that guides AI today.</p>
            <div class="mini-quiz" data-answer="b">
              <p class="small-text">Mini quiz: The test checks if a machine can...</p>
              <div class="quiz-options">
                <button type="button" data-choice="a">Run very fast</button>
                <button type="button" data-choice="b">Mimic human answers</button>
                <button type="button" data-choice="c">Draw pictures</button>
              </div>
              <p class="quiz-feedback" aria-live="polite"></p>
            </div>
          </article>
        </div>
      </div>

      <div class="myth-grid" aria-label="Myth versus fact cards">
        <div class="flip-card">
          <div class="flip-inner">
            <div class="flip-front">
              <p class="pill">Myth</p>
              <h3>AI always tells the truth</h3>
              <p class="muted">Tap to see the fact.</p>
            </div>
            <div class="flip-back">
              <p class="pill">Fact</p>
              <p>AI can be wrong. Always double-check important answers.</p>
            </div>
          </div>
        </div>
        <div class="flip-card">
          <div class="flip-inner">
            <div class="flip-front">
              <p class="pill">Myth</p>
              <h3>Robots replace everyone</h3>
              <p class="muted">Tap to see the fact.</p>
            </div>
            <div class="flip-back">
              <p class="pill">Fact</p>
              <p>Robots take on dull or risky tasks. People guide and improve them.</p>
            </div>
          </div>
        </div>
        <div class="flip-card">
          <div class="flip-inner">
            <div class="flip-front">
              <p class="pill">Myth</p>
              <h3>Batteries never change</h3>
              <p class="muted">Tap to see the fact.</p>
            </div>
            <div class="flip-back">
              <p class="pill">Fact</p>
              <p>New battery designs appear each year, making devices last longer.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="timeline-footer">
        <p class="muted">Want a shortcut? Use the "Back to Present" button or pick a path above to jump around.</p>
        <a class="button primary" href="#present-anchor" id="backToPresent">Back to Present</a>
      </div>
    </section>

    <section>
      <h2>AI in Simple Terms</h2>
      <div class="card">
        <h3>Think of AI like a helpful assistant</h3>
        <p>Just like you learn from experience, AI learns from examples. It can recognize photos, understand questions, and help with everyday tasks.</p>
      </div>
      <div class="card">
        <h3>You're already using AI</h3>
        <p>When your phone suggests words while texting, when Netflix recommends shows, or when your email filters spam‚Äîthat's AI helping you.</p>
      </div>
    </section>

    <section>
      <h2>How AI Helps You Every Day</h2>
      <div class="grid two">
        <div class="card">
          <h3>üì± On Your Phone</h3>
          <p>‚Ä¢ Voice assistants like Siri and Google Assistant<br>
             ‚Ä¢ Photo organization and face recognition<br>
             ‚Ä¢ Navigation apps that find the best routes</p>
        </div>
        <div class="card">
          <h3>üè† At Home</h3>
          <p>‚Ä¢ Smart thermostats that learn your schedule<br>
             ‚Ä¢ Security cameras that detect people<br>
             ‚Ä¢ Streaming services that suggest shows</p>
        </div>
        <div class="card">
          <h3>üíª Online</h3>
          <p>‚Ä¢ Email spam filters<br>
             ‚Ä¢ Search engines that understand questions<br>
             ‚Ä¢ Online shopping recommendations</p>
        </div>
        <div class="card">
          <h3>üöó When You Travel</h3>
          <p>‚Ä¢ GPS traffic predictions<br>
             ‚Ä¢ Flight price predictions<br>
             ‚Ä¢ Translation apps for foreign languages</p>
        </div>
      </div>
    </section>

    <section>
      <h2>Why Learn About AI?</h2>
      <div class="card">
        <h3>üéØ It Makes Life Easier</h3>
        <p>AI can help you write emails, organize photos, find recipes, and even learn new skills. It's like having a helpful friend who knows almost everything.</p>
      </div>
      <div class="card">
        <h3>üîí Stay Safe and Smart</h3>
        <p>Understanding AI helps you spot fake information, protect your privacy, and make better choices about which AI tools to use.</p>
      </div>
      <div class="card">
        <h3>üåü Keep Up with Family</h3>
        <p>Your children and grandchildren are growing up with AI. Learning the basics helps you connect with them and understand their world.</p>
      </div>
    </section>

    <section>
      <h2>Ready to Explore AI?</h2>
      <div class="grid two">
        <div class="card">
          <h3>üöÄ Try AI Today</h3>
          <p>Step-by-step guides to popular AI tools. No experience needed!</p>
          <a class="button primary" href="getting-started.html">Get Started Now</a>
        </div>
        <div class="card">
          <h3>üè† AI in Daily Life</h3>
          <p>Discover how AI is already helping you every day.</p>
          <a class="button secondary" href="daily-life.html">Explore Examples</a>
        </div>
      </div>
    </section>

    <section>
      <h2>Quick AI Facts</h2>
      <div class="card">
        <h3>ü§ñ AI is Not Science Fiction</h3>
        <p>AI is real technology that exists today. It's not robots taking over‚Äîit's tools that help people live better lives.</p>
      </div>
      <div class="card">
        <h3>üìö Anyone Can Learn AI</h3>
        <p>You don't need to be a computer expert. AI tools are designed to be easy for everyone to use.</p>
      </div>
      <div class="card">
        <h3>üõ°Ô∏è AI Can Be Safe</h3>
        <p>Just like any tool, AI is safe when used properly. We'll show you how to protect your privacy and use AI wisely.</p>
      </div>
    </section>

    <div class="back-to-top">
      <a href="#top">Back to top</a>
    </div>
  </main>

  <footer>
    Made with ‚ù§Ô∏è for beginners ‚Ä¢ No technical experience needed
  </footer>

  <script>
    // Transition state management
    let isTransitioning = false;
    let currentTheme = 'dark';

    // Reading progress bar
    function updateReadingProgress() {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const progress = (scrollTop / scrollHeight) * 100;
      document.getElementById('readingProgress').style.width = progress + '%';
    }

    // Theme toggle with sunrise/sunset animation
    function toggleTheme() {
      if (isTransitioning) return;
      
      const button = event.target;
      const overlay = document.getElementById('themeOverlay');
      const isLight = document.body.classList.contains('light-theme');
      
      isTransitioning = true;
      
      if (isLight) {
        // Light to Dark - Sunset effect
        overlay.className = 'theme-transition-overlay sunset-gradient sunset-active';
        button.textContent = 'üåô';
        
        setTimeout(() => {
          document.body.classList.remove('light-theme');
          localStorage.setItem('theme', 'dark');
          currentTheme = 'dark';
        }, 1500); // Mid-transition
      } else {
        // Dark to Light - Sunrise effect
        overlay.className = 'theme-transition-overlay sunrise-gradient sunrise-active';
        button.textContent = '‚òÄÔ∏è';
        
        setTimeout(() => {
          document.body.classList.add('light-theme');
          localStorage.setItem('theme', 'light');
          currentTheme = 'light';
        }, 1500); // Mid-transition
      }
      
      // Clean up after animation
      setTimeout(() => {
        overlay.className = 'theme-transition-overlay';
        isTransitioning = false;
      }, 3000);
    }

    // Font size toggle with pop animation
    function toggleFontSize() {
      if (isTransitioning) return;
      
      const isLarge = document.body.classList.contains('large-text');
      const textElements = document.querySelectorAll('h1, h2, h3, p, li, a, span');
      
      if (!isLarge) {
        // Normal to Large - Pop up animation
        textElements.forEach((el, index) => {
          el.classList.add('text-pop-up', `stagger-text-${(index % 8) + 1}`);
        });
        
        document.body.classList.add('large-text');
        localStorage.setItem('largeText', 'true');
        
        setTimeout(() => {
          textElements.forEach(el => {
            el.classList.remove('text-pop-up', 'stagger-text-1', 'stagger-text-2', 'stagger-text-3', 'stagger-text-4', 'stagger-text-5', 'stagger-text-6', 'stagger-text-7', 'stagger-text-8');
          });
        }, 1200);
      } else {
        // Large to Normal - Pop down animation
        textElements.forEach((el, index) => {
          el.classList.add('text-pop-down', `stagger-text-${(index % 8) + 1}`);
        });
        
        document.body.classList.remove('large-text');
        localStorage.setItem('largeText', 'false');
        
        setTimeout(() => {
          textElements.forEach(el => {
            el.classList.remove('text-pop-down', 'stagger-text-1', 'stagger-text-2', 'stagger-text-3', 'stagger-text-4', 'stagger-text-5', 'stagger-text-6', 'stagger-text-7', 'stagger-text-8');
          });
        }, 800);
      }
      
      // Update button state
      event.target.classList.toggle('active', !isLarge);
    }

    // High contrast toggle with glitch effect
    function toggleContrast() {
      if (isTransitioning) return;
      
      const isHighContrast = document.body.classList.contains('high-contrast');
      
      if (!isHighContrast) {
        // Normal to High Contrast - Glitch effect
        document.body.classList.add('glitch-active');
        
        // Create binary rain effect
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            const particle = document.createElement('div');
            particle.className = 'binary-particle';
            particle.textContent = Math.random() > 0.5 ? '1' : '0';
            particle.style.left = Math.random() * 100 + '%';
            document.body.appendChild(particle);
            
            setTimeout(() => particle.remove(), 1200);
          }, i * 50);
        }
        
        // Add scan line
        setTimeout(() => {
          const scanLine = document.createElement('div');
          scanLine.className = 'scan-line';
          document.body.appendChild(scanLine);
          
          setTimeout(() => scanLine.remove(), 1500);
        }, 500);
        
        setTimeout(() => {
          document.body.classList.remove('glitch-active');
          document.body.classList.add('high-contrast');
          localStorage.setItem('highContrast', 'true');
        }, 1200);
      } else {
        // High Contrast to Normal - Smooth transition
        document.body.classList.remove('high-contrast');
        localStorage.setItem('highContrast', 'false');
      }
      
      // Update button state
      event.target.classList.toggle('active', !isHighContrast);
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Load saved preferences
    document.addEventListener('DOMContentLoaded', function() {
      // Theme
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'light') {
        document.body.classList.add('light-theme');
        currentTheme = 'light';
        document.querySelector('.theme-toggle').textContent = '‚òÄÔ∏è';
      }
      
      // Font size
      if (localStorage.getItem('largeText') === 'true') {
        document.body.classList.add('large-text');
      }
      
      // High contrast
      if (localStorage.getItem('highContrast') === 'true') {
        document.body.classList.add('high-contrast');
      }
      
      // Update button states
      const fontButtons = document.querySelectorAll('.font-control');
      fontButtons.forEach(button => {
        if (button.textContent.includes('A+') && localStorage.getItem('largeText') === 'true') {
          button.classList.add('active');
        }
        if (button.textContent.includes('‚óê') && localStorage.getItem('highContrast') === 'true') {
          button.classList.add('active');
        }
      });

      // Catch up modal controls
      const catchUpModal = document.getElementById('catchUpModal');
      const openCatchUp = document.getElementById('openCatchUp');
      const closeButtons = [document.getElementById('closeCatchUp'), document.getElementById('closeCatchUpFooter')];
      const catchUpForm = document.getElementById('catchUpForm');

      function openModal() {
        catchUpModal.removeAttribute('hidden');
        catchUpModal.focus();
      }

      function closeModal() {
        catchUpModal.setAttribute('hidden', 'true');
        openCatchUp.focus();
      }

      openCatchUp.addEventListener('click', openModal);
      closeButtons.forEach(btn => btn.addEventListener('click', closeModal));
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !catchUpModal.hasAttribute('hidden')) {
          closeModal();
        }
      });

      function scrollToEra(era) {
        const target = era === 'present' ? document.getElementById('present-anchor') : document.getElementById(`era-${era}`);
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }

      catchUpForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const data = new FormData(catchUpForm);
        const comfort = data.get('comfort');
        const depth = data.get('depth');
        const cloud = data.get('cloud');
        const topics = data.getAll('topics');

        let eraChoice = '2017';
        if (topics.includes('energy')) {
          eraChoice = '2025';
        } else if (topics.includes('robotics')) {
          eraChoice = '2024';
        } else if (depth === 'story' && comfort === 'high') {
          eraChoice = '1956';
        } else if (cloud === 'no' || comfort === 'low') {
          eraChoice = '2017';
        } else {
          eraChoice = '2012';
        }

        scrollToEra(eraChoice);
        closeModal();
      });

      // Timeline filters and jumps
      const chips = document.querySelectorAll('.chip');
      const cards = document.querySelectorAll('.timeline-card');
      function applyFilter(filter) {
        chips.forEach(chip => chip.classList.toggle('active', chip.dataset.filter === filter || (filter === 'all' && chip.dataset.filter === 'all')));
        cards.forEach(card => {
          const matches = filter === 'all' || card.dataset.track === filter;
          card.classList.toggle('hidden', !matches);
        });
      }

      chips.forEach(chip => {
        chip.addEventListener('click', () => {
          applyFilter(chip.dataset.filter);
        });
      });

      document.querySelectorAll('.path-buttons .button').forEach(btn => {
        btn.addEventListener('click', () => {
          const path = btn.dataset.path;
          if (path === 'mixed') {
            applyFilter('all');
            scrollToEra('present');
            return;
          }
          applyFilter(path);
          const firstMatch = Array.from(cards).find(card => card.dataset.track === path && !card.classList.contains('hidden'));
          if (firstMatch) {
            firstMatch.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });

      document.getElementById('startEra').addEventListener('change', (event) => {
        scrollToEra(event.target.value);
      });

      document.getElementById('backToPresent').addEventListener('click', (event) => {
        event.preventDefault();
        scrollToEra('present');
      });

      // Sticky visual updates
      const stickyVisual = document.getElementById('stickyVisual');
      const visualIcon = stickyVisual.querySelector('.visual-icon');
      const visualText = stickyVisual.querySelector('p');
      const eraMapItems = document.querySelectorAll('#eraMap li');

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const card = entry.target;
            const icon = card.dataset.visual || '‚ú®';
            const year = card.querySelector('.timeline-year').textContent;
            const title = card.querySelector('h3').textContent;
            visualIcon.textContent = icon;
            visualText.textContent = `${year} ‚Äî ${title}`;
            eraMapItems.forEach(item => {
              const label = item.textContent.trim();
              const match = label.includes(year) || (card.dataset.era === 'present' && label.toLowerCase().includes('present'));
              item.classList.toggle('active', match);
            });
          }
        });
      }, { rootMargin: '-20% 0px -50% 0px', threshold: 0.5 });

      cards.forEach(card => observer.observe(card));

      // Mini quiz feedback
      document.querySelectorAll('.mini-quiz').forEach(quiz => {
        quiz.querySelectorAll('button').forEach(btn => {
          btn.addEventListener('click', () => {
            const correct = quiz.dataset.answer;
            const feedback = quiz.querySelector('.quiz-feedback');
            if (btn.dataset.choice === correct) {
              feedback.textContent = 'Correct! Great pick.';
            } else {
              feedback.textContent = 'Close. Try another option.';
            }
          });
        });
      });

      // Copy starter prompts
      document.querySelectorAll('.copy-button').forEach(button => {
        button.dataset.label = button.textContent;
        button.addEventListener('click', async () => {
          const text = button.dataset.prompt;
          try {
            await navigator.clipboard.writeText(text);
            button.textContent = 'Copied!';
            setTimeout(() => {
              button.textContent = button.dataset.label;
            }, 1500);
          } catch (err) {
            button.textContent = 'Copy not available here';
          }
        });
      });
    });

    // Update reading progress on scroll
    window.addEventListener('scroll', updateReadingProgress);
    window.addEventListener('resize', updateReadingProgress);
    
    // Initial progress update
    updateReadingProgress();
  </script>
</body>
</html>
